# Configuration file generated by Ansible - do not edit manually

{% for site in monit_watched_websites %}
check host {{ site.name|default(site.address) }} with address {{ site.address }}
    if failed
        port {{ site.port|default(443) }}
        type {{ site.type|default("tcpssl") }}
        protocol {{ site.protocol|default("https") }}
{% if site.username|default(false) %}
        USERNAME {{ site.username }}
        PASSWORD {{ site.password }}
{% endif %}
        REQUEST {{ site.path|default("/") }}
{% if site.status is defined %}
        STATUS {{ site.status|default(200) }}
{% endif %}
{% if site.headers is defined %}
        HTTP HEADERS {{ site.headers }}
{% endif %}
{% if site.check_ssl|default(true) %}
        and certificate valid > 20 days
{% endif %}
        with timeout 30 seconds
        retry 3
    then alert

{% endfor %}
